{
  "filename": "如何运行Demo.md",
  "__html": "<h2 id=\"%E5%A6%82%E4%BD%95%E8%BF%90%E8%A1%8C-demo%EF%BC%9F\">如何运行 Demo？ <a class=\"header-anchor\" href=\"#%E5%A6%82%E4%BD%95%E8%BF%90%E8%A1%8C-demo%EF%BC%9F\">#</a></h2>\n<p>目前动态线程池功能已经完成，可以直接把代码拉到本地运行。导入 <a href=\"https://github.com/acmenlt/dynamic-threadpool/blob/develop/server/src/main/resources/hippo_manager.sql\">Hippo 初始化 SQL 语句</a></p>\n<ol>\n<li>启动 <code>dynamic-threadpool-server</code> 模块下 ServerApplication 应用类</li>\n<li>启动 <code>dynamic-threadpool-example</code> 模块下 ExampleApplication 应用类</li>\n</ol>\n<br/>\n<p>通过接口修改线程池中的配置。HTTP POST 路径：<a href=\"http://localhost:6691/v1/cs/configs\">http://localhost:6691/v1/cs/configs</a> ，Body 请求体如下：</p>\n<pre><code class=\"language-json\">{\n    <span class=\"hljs-attr\">\"ignore\"</span>: <span class=\"hljs-string\">\"tenantId、itemId、tpId 代表唯一线程池，请不要修改\"</span>,\n    <span class=\"hljs-attr\">\"tenantId\"</span>: <span class=\"hljs-string\">\"prescription\"</span>,\n    <span class=\"hljs-attr\">\"itemId\"</span>: <span class=\"hljs-string\">\"dynamic-threadpool-example\"</span>,\n    <span class=\"hljs-attr\">\"tpId\"</span>: <span class=\"hljs-string\">\"message-produce\"</span>,\n    <span class=\"hljs-attr\">\"coreSize\"</span>: <span class=\"hljs-number\">10</span>,\n    <span class=\"hljs-attr\">\"maxSize\"</span>: <span class=\"hljs-number\">15</span>,\n    <span class=\"hljs-attr\">\"queueType\"</span>: <span class=\"hljs-number\">9</span>,\n    <span class=\"hljs-attr\">\"capacity\"</span>: <span class=\"hljs-number\">100</span>,\n    <span class=\"hljs-attr\">\"keepAliveTime\"</span>: <span class=\"hljs-number\">10</span>,\n    <span class=\"hljs-attr\">\"rejectedType\"</span>: <span class=\"hljs-number\">3</span>,\n    <span class=\"hljs-attr\">\"isAlarm\"</span>: <span class=\"hljs-number\">0</span>,\n    <span class=\"hljs-attr\">\"capacityAlarm\"</span>: <span class=\"hljs-number\">81</span>,\n    <span class=\"hljs-attr\">\"livenessAlarm\"</span>: <span class=\"hljs-number\">82</span>\n}\n</code></pre>\n<br/>\n<p>接口调用成功后，观察 dynamic-threadpool-example 控制台日志输出，日志输出包括不限于此信息即为成功</p>\n<pre><code class=\"language-tex\">[🔥 MESSAGE-PRODUCE] Changed thread pool. coreSize :: [11=&gt;10], maxSize :: [15=&gt;15], queueType :: [9=&gt;9]\ncapacity :: [100=&gt;100], keepAliveTime :: [10000=&gt;10000], rejectedType :: [7=&gt;7]\n</code></pre>\n<br/>\n<p>现阶段已集成钉钉消息推送，后续会持续接入企业微信、邮箱、飞书、短信等通知渠道。可以通过添加钉钉群体验消息推送，群号：31764717</p>\n",
  "link": "/zh-cn/docs/demo/如何运行Demo.html",
  "meta": {}
}